# Руководство по использованию системы управления магазином

## Описание

Это приложение, предоставляющее сервис работы с данными в БД. Данный сервис, на
основании входных параметров(аргументы командной строки), типа операции и входного файла – извлекает
необходимые данные из БД и формирует результат обработки в выходной файл. 

## Компоненты приложения

### DAO слой (ShopDAO)

Обрабатывает взаимодействие с базой данных для выполнения запросов на получение информации о клиентах и расчета статистики.

### Сервисный слой (ShopService)

Предоставляет методы для обработки запросов поиска и генерации статистических отчетов из входного JSON-файла.

### Основное приложение (Main)

Точка входа в приложение, которая анализирует аргументы командной строки и вызывает соответствующие методы сервиса.

### Классы

Также описаны сущности, необходимые для работы приложения.

## Подготовка к запуску

1. **Создание и заполнение таблиц**

   Перед запуском приложения необходимо создать и заполнить таблицы в базе данных PostgreSQL. Необходимые комманды содержатся в файле `CreateTableSQL.txt` (На главной странице).

2. **Расположение Файлов**

   - JAR-файл приложения находится в каталоге: `shop-tde/out/artifacts/shop_tde_jar`.
   - В том же каталоге находятся необходимые JSON-файлы для запуска программы:
     - `input_search.json` — входной файл для поиска.
     - `input_stat.json` — входной файл для статистики.
     - `output_search.json` — выходной файл для результатов поиска.
     - `output_stat.json` — выходной файл для статистических данных.

## Методы приложения и запуск

### Поиск покупателей по критериям (search)

Во входном файле передаётся список критериев для поиска покупателей. Результат операции - списки
покупателей для каждого критерия из запроса.

**Запуск:**

```sh
java -jar shop-tde.jar search input_search.json output_search.json
```

### Статистика за период (stat)

Во входном файле передаётся интервал дат сбора статистики. Результат операции - статистика по
покупателям за период из двух дат, включительно, без выходных

**Запуск:**

```sh
java -jar shop-tde.jar stat input_stat.json output_stat.jsonZ
```

## Используемые технологии
 - Java 8
 - PostgreSQL
 - Maven
#### Зависимости Maven
 - Jackson — для работы с JSON.
 - PostgreSQL — для работы с SQL


